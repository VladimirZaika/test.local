document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector("#nasa-js-content"),t=document.querySelector(".preloader"),a=`${nasaSettings.pluginUrl}images/no-request.png`,n=`${nasaSettings.pluginUrl}images/placeholder.png`;if("js"===nasaSettings.language_choice){if(!nasaSettings.api_key){e.innerHTML=`
    <div class="no-images">
        <img src="${a}" alt="No images aviable" />
    </div>
`,t.style.display="none";return}let i=`${nasaSettings.api_url}?api_key=${nasaSettings.api_key}&thumbs=true&start_date=${function e(t){let a=new Date;return a.setDate(a.getDate()-t),a.toISOString().split("T")[0]}(nasaSettings.image_days)}&end_date=${function e(){let t=new Date;return t.toISOString().split("T")[0]}()}`;fetch(i).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(i=>{t.style.display="none",e.innerHTML="",0===i.length?e.innerHTML=`
            <div class="no-images">
                <img src="${a}" alt="No images aviable" />
            </div>
        `:(i.reverse(),i.forEach(t=>{let a=`
                <article class="nasa-image-item">
                    <h2>${t.title||"No title"}</h2>
                    <img src="${t.url||n}" alt="${t.title||"No image aviable"}"/>
                    <p>${t.explanation||"Not text"}</p>
                    <p><strong>Date:</strong> ${t.date||"No date"}</p>
                    <p><strong>Author:</strong> ${t.copyright||"No author"}</p>
                </article>
            `;e.insertAdjacentHTML("beforeend",a)}))}).catch(n=>{t.style.display="none",console.error("Error fetching NASA images:",n),e.innerHTML=`
        <div class="no-images">
            <img src="${a}" alt="No images aviable" />
        </div>
    `})}});